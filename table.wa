;; table module
;; table-foreach
(defn foreach [t fn]
  (def keys (table-keys t))
  (defn table-foreach-iter [keys]
    (if (null? keys)
      ()
      (if (eq? (fn (car keys)
                   t[(car keys)])
               'break)
        ()
        (table-foreach-iter (cdr keys)))))
  (table-foreach-iter keys))
